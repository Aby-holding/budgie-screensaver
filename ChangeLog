2005-10-06  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (gs_lock_plug_size_request) 
	(gs_lock_plug_class_init): Force the unlock
	dialog to always be wider than it is tall.  This
	should ensure there is enough space for the
	text entry and makes for a more pleasing aspect ratio.

2005-10-06  William Jon McCann  <mccann@jhu.edu>

	* data/gnome-screensaver.schemas.in:
	Rework the gconf key descriptions.

	Patch from Luca Ferretti <elle.uca@libero.it>
	Fixes #318100

2005-10-06  William Jon McCann  <mccann@jhu.edu>

	* src/gs-watcher-x11.c (initialize_server_extensions) 
	(check_pointer_timer): 
	* configure.ac:
	Remove all /proc/interrupts stuff.  It wasn't
	working anyway.  Fixes #318071

2005-10-06  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Less commentary and
	remove motif stuff.

2005-10-05  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Post release version bump.

==== 0.0.15 ====

2005-10-05  William Jon McCann  <mccann@jhu.edu>

	* NEWS: Update for 0.0.15 release.
	* src/Makefile.am (gnome_screensaver_SOURCES):
	Fix name of header file.

2005-10-05  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (get_ok_button_for_page) 
	(get_switch_button_for_page): Don't use N_().

	* src/gnome-screensaver-command.c (main):
	Use setlocale so that messages are translated.

2005-10-05  William Jon McCann  <mccann@jhu.edu>

	* src/gs-monitor.c (listener_poke_cb): 
	* src/gs-manager.[ch] (gs_manager_request_unlock):
	Make poking the screensaver from DBus work
	even when the screen is blanked.  So, in all
	cases poking should simulate user activity.

2005-10-05  William Jon McCann  <mccann@jhu.edu>

	* src/Makefile.am: 
	* src/gs-watcher-x11.c (gs_watcher_class_init): 
	* src/gs-watcher-marshal.list:
	* src/gs-monitor.c (watcher_idle_cb): 
	* src/.cvsignore: Use a custom marshaller.

2005-10-04  Žygimantas Beručka  <zygis@gnome.org>

	* configure.ac: Added 'lt' to ALL_LINGUAS.

2005-10-04  William Jon McCann  <mccann@jhu.edu>

	* src/gs-window-x11.c (queue_key_event):
	Don't forward space or enter to dialog if they
	are the first chars pressed.  Fixes #317890.

2005-10-04  William Jon McCann  <mccann@jhu.edu>

	* src/gs-power.h:
	* src/gs-power-x11.h: New files to handle power
	management.
	
	* src/gs-watcher-x11.[ch]: Rip out all the DPMS stuff.

	* src/gs-monitor.c (listener_active_changed_cb):
	Activate power management when screen blanks.
	(power_changed_cb): When monitor power turns off
	throttle the themes.
	(_gs_monitor_update_from_prefs): Consolidate
	updating from preferences into a single function.
	(gs_monitor_init): Add power management.

	* src/dpms.[ch]: Removed.
	* src/Makefile.am: Add new files.

	* data/gnome-screensaver.schemas.in: Shorten DPMS
	timeout values.

2005-10-03  William Jon McCann  <mccann@jhu.edu>

	* doc/.cvsignore: Actually add the file.

2005-09-30  William Jon McCann  <mccann@jhu.edu>

	* src/gs-watcher-x11.c (initialize_server_extensions):
	Less editorial.
	(watchdog_timer, gs_watcher_set_dpms): Don't
	unconditionally set DPMS verbose.

2005-09-30  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.ac: Add Norwegian bokmål to ALL_LINGUAS.

2005-09-30  William Jon McCann  <mccann@jhu.edu>

	* src/gs-job.c (spawn_on_widget): 
	* src/gs-window-x11.c (spawn_on_window): Pass LANG and
	LANGUAGE environment variables to the child process.

	* savers/Makefile.am: 
	* src/Makefile.am:
	* data/Makefile.am (install-data-local): Use tabs.

	* src/gnome-screensaver-command.c (main): Initialize
	gettext stuff.

	* src/gnome-screensaver-preferences.c (populate_model):
	Mark screensaver modes for translation.

	* data/gnome-screensaver-preferences.desktop.in:
	Add StartupNotify.

2005-09-28  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (password_check_idle_cb, monitor_progress):
	Rework status messages.

	* doc/.cvsignore: Add files.

2005-09-28  William Jon McCann  <mccann@jhu.edu>

	* src/.cvsignore: 
	* src/fade.[ch]:
	* src/test-fade.c: Add support for fading
	to and from black.  Only gamma fading is
	implemented at the moment.  Fixes #316656.
	
	* src/gs-manager.c (gs_manager_blank): Fade
	out before showing windows.

	* src/Makefile.am: Add new files.

2005-09-26  William Jon McCann  <mccann@jhu.edu>

	* doc/Makefile.am: Add docs to EXTRA_DIST

	* configure.ac: Add docs/Makefile

2005-09-26  William Jon McCann  <mccann@jhu.edu>

	* doc/DBUS-API.txt: Added getIdle and getIdleTime.

	* src/gs-listener-dbus.c (listener_get_idle_time) 
	(gs_listener_set_active, gs_listener_set_idle) 
	(listener_dbus_filter_handle_methods):
	Add getIdleTime dbus method.

2005-09-26  William Jon McCann  <mccann@jhu.edu>

	* doc/DBUS-API.txt: 
	* doc/Makefile.am: 
	* Makefile.am (SUBDIRS): Add some docs.

2005-09-26  William Jon McCann  <mccann@jhu.edu>

	* savers/slideshow.c (get_exif_orientation) 
	(pixbuf_copy_rotate_90, pixbuf_copy_mirror) 
	(update_from_exif_data, get_pixbuf_from_local_dir): 

	* configure.ac: Add optional libexif dep for
	theme engines.

	Based on patch from <torkel@acc.umu.se>.
	Fixes #316463.

2005-09-23  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Post release version bump.

	* NEWS: Fix misplaced news items.

==== 0.0.14 ====

2005-09-23  William Jon McCann  <mccann@jhu.edu>

	* src/gs-window-x11.c (popup_dialog_idle): Fix warning.

	* savers/Makefile.am (EXTRA_DIST): Include .desktop.in files.
	Cleanup .desktop files.

	* NEWS: Update for 0.0.14 release.

2005-09-23  William Jon McCann  <mccann@jhu.edu>

	* src/gs-job.c (spawn_on_widget): Only set XAUTHORITY in
	child it is set in parent.

2005-09-23  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (setup_treeview): Only setup
	the user list if switching is enabled.

2005-09-23  William Jon McCann  <mccann@jhu.edu>

	* src/gs-watcher-x11.c (notice_events_inner, notice_events) 
	(notice_events_timer): Never bypass the BadWindow error
	handler when noticing new windows.

2005-09-23  William Jon McCann  <mccann@jhu.edu>

	* src/gs-window-x11.c (is_user_switch_enabled, popup_dialog_idle) 
	(gs_window_set_user_switch_enabled): 
	* src/gs-prefs.c (gs_prefs_load_from_gconf, key_changed_cb) 
	(gs_prefs_init): 
	* src/gs-monitor.c (prefs_changed_cb, gs_monitor_init): 
	* src/gs-manager.[ch] (gs_manager_set_user_switch_enabled) 
	(gs_manager_set_property, gs_manager_get_property) 
	(gs_manager_class_init, gs_manager_create_window):
	Add and use a gconf setting to enable the user-switching
	feature.  Note that now user-switching is off by default.
	To enable it set /apps/gnome-screensaver/user_switch_enabled
	to TRUE.

	* src/gnome-screensaver-dialog.c: Add command line option
	enable-switch

	Patches from Matthias Clasen <mclasen@redhat.com>
	Fixes #316906
	
2005-09-23  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Fix the logic so that --with-gdm-config=no works.

2005-09-22  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (set_status_text, gs_lock_plug_response) 
	(monitor_progress, gs_lock_plug_init): Remove progress bar.
	(get_ok_button_for_page, get_switch_button_for_page): Remove
	icons from buttons.
	(switch_page): Restart timer when switching page.  Don't
	show Unlock button on user switch page.
	(check_user_file, get_face_image, create_page_one): Put
	user face image on dialog, make centered, etc.
	(create_page_two): Remove stock_people icon.  Increase
	the size of the user icons in list.

	Some usability changes suggested by mpt.

2005-09-22  William Jon McCann  <mccann@jhu.edu>

	* src/gs-manager.c (window_show_cb): Don't set theme search
	path.

	* src/gs-job.[ch] (gs_job_theme_info_ref, gs_job_theme_info_unref) 
	(gs_job_theme_info_get_id, gs_job_theme_info_get_name) 
	(gs_job_theme_info_new_from_gmenu_tree_entry, find_info_for_id) 
	(gs_job_lookup_theme_info, theme_prepend_entry, make_theme_list) 
	(gs_job_get_theme_info_list, gs_job_init, gs_job_finalize) 
	(gs_job_set_theme, spawn_on_widget, gs_job_start): Use
	gnome-menu to construct a theme list.  Remove all traces of
	theme search path.  Remove XML configuration parsing.

	* src/gnome-screensaver-preferences.c (get_all_theme_ids) 
	(config_set_theme, preview_set_theme, get_theme_info_list) 
	(populate_model, tree_selection_changed_cb, compare_theme) 
	(setup_treeview, setup_treeview_selection, init_capplet):
	Use new themes info API.

	* src/Makefile.am: Use libgnome-menu.
	
	* savers/popsquares.desktop.in: 
	* savers/personal-slideshow.desktop.in: 
	* savers/cosmos-slideshow.desktop.in.in: 
	* savers/Makefile.am: 
	* savers/.cvsignore: Use desktop files to define
	screensaver themes

	* data/migrate-xscreensaver-config.sh:
	* data/xscreensaver-config.xsl: Script that can be
	used to convert xscreensaver .xml configuration files
	to .desktop files.

	* data/gnome-screensavers.menu.in: 
	* data/gnome-screensaver.directory.in: 
	* data/Makefile.am:
	* data/.cvsignore: New files to define menu entries

	* configure.ac: Require libgnome-menu

	Use the cross desktop menu spec for finding themes.
	Fixes #316472.

2005-09-22  William Jon McCann  <mccann@jhu.edu>

	* src/gs-window-x11.c (forward_key_events, remove_key_events) 
	(socket_show, gs_window_dialog_finish, queue_key_event) 
	(gs_window_real_key_press_event, gs_window_finalize):
	Queue up key press events before the unlock dialog
	is shown and replay them as soon as it is visible.
	Fixes #316558.
	(gs_window_real_key_press_event) 
	(gs_window_real_motion_notify_event): Don't try to
	request an unlock if there is already a socket since
	this means that a dialog has already been requested.

2005-09-19  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (switch_page): Remove workaround
	for bug #172998.
	(populate_model): Do gnome-vfs init if necessary.
	(create_page_one, create_page_two, create_buttons) 
	(gs_lock_plug_init): Split out functions to
	make it easier to profile.

	* src/gnome-screensaver-dialog.c (main): Move
	gnome-vfs init (for FUSA) to plug.

2005-09-18  Alessio Frusciante  <algol@firenze.linux.it>

	* configure.ac: Added "it" (Italian) to ALL_LINGUAS.

2005-09-15  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Use AC_DEFINE_UNQUOTED instead of
	custom AC_DEFINE_PATH to define gdm config file
	location.  This should fix problems where some
	people are seeing $ prefixed to the path.

2005-09-14  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Don't require xscreensaver directories specified
	to be present at compile time.  Fixes #316143.

2005-09-12  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Post release version bump.

==== 0.0.13 ====

2005-09-12  William Jon McCann  <mccann@jhu.edu>

	* NEWS: Update for 0.0.13 release.

2005-09-12  William Jon McCann  <mccann@jhu.edu>

	* src/gs-window-x11.c (spawn_on_window): 
	Set XAUTHLOCALHOSTNAME for dialog plug process.
	Don't try to set environment variables in child
	that aren't set in the parent.  Fixes #315861.

2005-09-12  Rodrigo Moya <rodrigo@novell.com>

	* configure.ac: check for 64bit library location.

2005-09-09  William Jon McCann  <mccann@jhu.edu>

	* src/gs-job.c: 
	* configure.ac: If configured to look for
	xscreensaver config files then also look for
	xscreensaver hacks too.

	Patch from Catmur <ed@catmur.co.uk>
	Fixes #315584

2005-09-09  William Jon McCann  <mccann@jhu.edu>

	* src/gs-job.c (load_themes): Skip files in theme config
	dirs that don't end with .xml.

	Patch from Ed Catmur <ed@catmur.co.uk>
	Fixes #315592

2005-09-07  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Post release version bump.

==== 0.0.12 ====

2005-09-07  William Jon McCann  <mccann@jhu.edu>

	* NEWS: Update for 0.0.12 release.

2005-09-07  William Jon McCann  <mccann@jhu.edu>

	* src/gs-job.c (gs_job_finalize): Only destroy hash
	if not NULL.  Fixes #315422.
	(gs_job_set_theme, gs_job_start): Don't warn on NULL themes
	since they are interpreted as no-op jobs.

2005-09-06  William Jon McCann  <mccann@jhu.edu>

	* src/gs-watcher-x11.[ch] (gs_watcher_class_init, maybe_send_signal): 
	Use a boolean return value for idle signal to check
	if the signal was handled.
	
	* src/gs-monitor.c (watcher_idle_cb): Use new boolean
	watcher idle signal.

	* src/gs-listener-dbus.[ch] (gs_listener_set_idle):
	Make function return false if idle can't be set
	because it is inhibited.

2005-09-05  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Post release version bump.

==== 0.0.11 ====

2005-09-05  William Jon McCann  <mccann@jhu.edu>

	* NEWS: Update for 0.0.11 release.

2005-09-03  Rodrigo Moya <rodrigo@novell.com>

	* src/gnome-screensaver-preferences.c (config_get_theme,
	config_set_theme, preview_set_theme, compare_theme): support 'random'
	screensaver.
	(populate_model): add random screensaver to the list.

2005-09-02  William Jon McCann  <mccann@jhu.edu>

	* savers/popsquares.c (get_window):
	Clear screen at the start.

2005-09-02  William Jon McCann  <mccann@jhu.edu>

	* src/gs-monitor.c (prefs_changed_cb): 
	* src/gs-prefs.c (key_changed_cb):
	Support changing the cycle timeout value.

2005-09-01  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (populate_model): Create
	fusa-manager only right before it is required.
	(setup_treeview_idle, gs_lock_plug_init):
	Create and populate user list in an idle so
	that it doesn't delay startup.

2005-09-01  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (gs_lock_plug_show, populate_model) 
	(gs_lock_plug_init): Added more timing points.

2005-09-01  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c: 
	* src/gnome-screensaver-dialog.c:
	Added a very basic timing/profiling framework.

2005-08-31  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (set_status_text, gs_lock_plug_response) 
	(monitor_progress, password_check_idle_cb, set_progress_position):
	Abstract the usage of the progress bar in case we
	want to replace it or remove it.

2005-08-31  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (gs_lock_plug_init):
	Add a bit more padding between labels.

2005-08-31  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (user_displays_changed_cb):
	Remove spurious g_message.

2005-08-31  William Jon McCann  <mccann@jhu.edu>

	* configure.ac (GTK_REQUIRED_VERSION): Bump
	gtk requirement to 2.7.0.

2005-08-31  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (gs_lock_plug_init, label_set_bold) 
	(label_set_big): Add system name to lock dialog.  Fixes #309140.
	Also pull out label formatting into separate functions.

2005-08-31  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Post release version bump.

==== 0.0.10 ====

2005-08-31  William Jon McCann  <mccann@jhu.edu>

	* NEWS: Update for 0.0.10 release.

2005-08-29  William Jon McCann  <mccann@jhu.edu>

	* src/gnome-screensaver-preferences.c: Put label
	column first so that typeahead find works by default.

2005-08-29  William Jon McCann  <mccann@jhu.edu>

	* src/gnome-screensaver-preferences.c (preview_set_theme):
	Don't set sensitivity for keys that aren't writable.  Make
	locking checkbox insensitive when screensaver is disabled.

	Based on patch from <dennis_cranston@yahoo.com>
	Fixes #314629.

2005-08-26  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Add --with-xscreensaverdir argument to specify
	location of XScreensaver hack configuration files.

	* src/gs-job.c (gs_job_init): If an xscreensaver dir is specified,
	append the directory to the list of theme paths.

	Patch from Rodrigo Moya <rodrigo@novell.com>

2005-08-26  Christophe Merlet  <redfox@redfoxcenter.org>

	* configure.in: Added "fr" (French) to ALL_LINGUAS

2005-08-26  William Jon McCann  <mccann@jhu.edu>

	* src/gs-job.[ch] (gs_job_append_theme_path): Add new
	function.

2005-08-26  William Jon McCann  <mccann@jhu.edu>

	* src/gs-watcher-x11.c (maybe_send_signal, idle_timer):
	Don't check the pointer position when doing an
	emergency locking.  Fixes #314530.

2005-08-26  William Jon McCann  <mccann@jhu.edu>

	* data/gnome-screensaver-preferences.glade:
	Add mnemonic to checkbox label.  Use 6px spacing
	for vbox.

	Patch from <dennis_cranston@yahoo.com>.
	Fixes #314518.

2005-08-26  Rodrigo Moya <rodrigo@novell.com>

	* data/gnome-screensaver-preferences.glade: fixed alignment of
	'Activate after' label. Added checkbox to the dialog.

	* src/gnome-screensaver-preferences.c (config_get_lock,
	config_set_lock): new functions to get/set the lock key.
	(init_capplet): added a checkbox to allow user to enable/disable
	locking when running the screensaver.
	(lock_checkbox_toggled): callback for the checkbox.

2005-08-25  William Jon McCann  <mccann@jhu.edu>

	* src/gs-window-x11.c (gs_window_class_init): Set
	lock-enabled param to FALSE initially.

	* src/gs-prefs.c (key_changed_cb): Allow enabling and disabling
	the lock policy.

	* src/gs-monitor.c (listener_lock_cb, prefs_changed_cb) 
	(gs_monitor_init): Allow enabling and disabling the
	lock policy.

	* src/gs-manager.c (gs_manager_set_lock_active) 
	(gs_manager_set_lock_enabled, activate_lock_timeout) 
	(gs_manager_set_lock_timeout, gs_manager_class_init) 
	(window_show_cb, gs_manager_create_window, gs_manager_new) 
	(gs_manager_unblank): Make a clear distinction between
	the policy (lock_enabled) and the state (lock_active).

2005-08-24  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Post release version bump.

==== 0.0.9 ====

2005-08-24  William Jon McCann  <mccann@jhu.edu>

	* NEWS: Update for 0.0.9 release.

2005-08-15  Rodrigo Moya <rodrigo@novell.com>

	* data/images/cosmos/Makefile.am: EXTRA_DIST all pictures, so that
	they are included in the tarball.

2005-08-10  Alexander Shopov  <ash@contact.bg>

	* configure.in: Added "bg" (Bulgarian) to ALL_LINGUAS

2005-08-04  William Jon McCann  <mccann@jhu.edu>

	* data/images/cosmos/whirlpool.jpg:
	* data/images/cosmos/cloud.jpg:
	* data/images/cosmos/comet.jpg:
	* data/images/cosmos/earth-horizon.jpg:
	* data/images/cosmos/earthrise.jpg:
	* data/images/cosmos/galaxy-ngc3370.jpg:
	* data/images/cosmos/helix-nebula.jpg:
	* data/images/cosmos/jupiter.jpg:
	* data/images/cosmos/sombrero.jpg: Make binary.

2005-08-04  William Jon McCann  <mccann@jhu.edu>

	* data/images/cosmos/whirlpool.jpg: Added.

2005-08-04  William Jon McCann  <mccann@jhu.edu>

	* data/images/cosmos/cloud.jpg:
	* data/images/cosmos/comet.jpg:
	* data/images/cosmos/earth-horizon.jpg:
	* data/images/cosmos/earthrise.jpg:
	* data/images/cosmos/galaxy-ngc3370.jpg:
	* data/images/cosmos/helix-nebula.jpg:
	* data/images/cosmos/jupiter.jpg:
	* data/images/cosmos/sombrero.jpg: Added images.

2005-08-04  Rodrigo Moya <rodrigo@novell.com>

	* data/images/cosmos/Makefile.am: s/@SLIDESHOW_COSMOS_DIR@/$(SLIDESHOW_COSMOS_DIR).

2005-08-03  William Jon McCann  <mccann@jhu.edu>

	* data/images/cosmos/Makefile.am:
	* data/images/Makefile.am:
	* data/Makefile.am (SUBDIRS): Added place to put
	cosmos images.  Empty for now.

	* savers/cosmos-slideshow.xml.in:
	* savers/Makefile.am (themes_DATA): 
	* configure.ac (SLIDESHOW_COSMOS_DIR):
	Added new cosmos theme.

2005-08-03  William Jon McCann  <mccann@jhu.edu>

	* savers/slideshow.xml: Removed.

	* savers/personal-slideshow.xml: New theme file that loads
	images from ~/Pictures.

	* savers/slideshow.c (add_files_to_list): Add a warning
	if the directory can't be opened.
	(get_pixbuf_from_location): Load relative directory
	paths too and assume they are relative to the home
	directory.
	(main): Change directory to the user's home.

2005-08-03  William Jon McCann  <mccann@jhu.edu>

	* savers/slideshow.c (scale_pixbuf): Scale up images to fill the
	screen.

2005-08-02  Maxim Dziumanenko <mvd@mylinux.ua>

	* configure.ac: Added "uk" to ALL_LINGUAS.

2005-08-02  Stanislav Brabec <sbrabec@suse.cz>

	* src/Makefile.am: added saverdir and themesdir variables to be
	able to specify them as make argument.

2005-08-02  Rodrigo Moya <rodrigo@novell.com>

	* savers/Makefile.am: pass DATADIR in INCLUDES.

	* savers/slideshow.c: use backgrounds directory as default to always
	get at least a few pictures to use in the slideshow.

2005-08-01  William Jon McCann  <mccann@jhu.edu>

	* savers/slideshow.c (start_new_load, start_fade, finish_fade) 
	(update_display, process_new_pixbuf, screenhack_init):
	Start loading new image only after fade is complete.
	Reduce the number of step in the fade.

2005-08-01  William Jon McCann  <mccann@jhu.edu>

	* savers/slideshow.c (update_display): Fade out areas
	not covered by new image.

2005-07-29  William Jon McCann  <mccann@jhu.edu>

	* src/gs-prefs.c (gs_prefs_load_from_gconf):
	Use more reasonable defaults when schemas aren't loaded.

	* savers/Makefile.am: 
	* configure.ac:
	* savers/slideshow.c: 
	* savers/slideshow.xml: Add a slideshow engine.  This
	is really very basic at the moment.  At this stage is
	is mostly an image loading framework.  We should make
	this work with glitz or something.

2005-07-26  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (get_user_display_name, gs_lock_plug_init):
	Display user name if real name is unknown.  Based on patch
	from Rodrigo Moya <rodrigo@novell.com>

2005-07-25  Tommi Vainikainen  <thv@iki.fi>

	* configure.ac (ALL_LINGUAS): Added "fi" (Finnish).

2005-07-25  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Post release version bump.

==== 0.0.8 ====

2005-07-25  William Jon McCann  <mccann@jhu.edu>

	* NEWS: Update for 0.0.8 release.

2005-07-19  William Jon McCann  <mccann@jhu.edu>

	* README: Remove experimental warning.

	* TODO: Remove user list item.

	* src/gnome-screensaver.c: 
	* src/gnome-screensaver-dialog.c: 
	* src/gs-monitor.c: Fix copyright statements.

2005-07-18  William Jon McCann  <mccann@jhu.edu>

	* src/gs-monitor.c (watcher_idle_cb):  Decouple the
	idle watcher from the screensaver activation by only
	setting an idle flag.  Setting this flag triggers
	an activation only when all the inhibitors are removed.

	* src/gs-listener-dbus.[ch] (listener_check_activation) 
	(gs_listener_set_active, gs_listener_set_idle) 
	(listener_property_set_bool, raise_error, raise_syntax) 
	(listener_add_inhibitor, listener_remove_inhibitor) 
	(listener_service_deleted, raise_property_type_error) 
	(listener_get_property, listener_dbus_filter_handle_methods) 
	(gs_listener_message_handler, listener_dbus_filter_function) 
	(gs_listener_set_property, gs_listener_get_property) 
	(gs_listener_acquire, gs_listener_finalize):
	Add the concept of activation inhibitors.  An application
	on the bus can request to block the timed activation of the
	screensaver.  The implementation is essentially copied
	from HAL's device locking.  When the remote application
	is removed from the bus the inhibition is removed.

2005-07-15  Abel Cheung  <maddog@linuxhall.org>

	* configure.ac: Added "zh_TW" to ALL_LINGUAS.

2005-07-14  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (populate_model):
	Re-enable pixbufs with the hope that 310418 gets fixed.

2005-07-14  William Jon McCann  <mccann@jhu.edu>

	* src/cut-n-paste/fusa-manager.c (render_icon_from_home):
	Check that parent of home dir is local too.  This
	avoids a stat on autofs home dirs triggering a mount.
	Requires a fix for:
	http://bugzilla.gnome.org/show_bug.cgi?id=310418

2005-07-14  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (gs_lock_plug_style_set):
	Set vbox spacing to 12 instead of 24.
	(populate_model): Don't put a new login item
	in the list for now.  There isn't enough space.

2005-07-14  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (user_displays_changed_cb):
	Get the real store from the filter.
	(populate_model): Don't load the face icon
	synchronously before realization since this doesn't
	scale to large systems.

2005-07-14  William Jon McCann  <mccann@jhu.edu>

	* src/cut-n-paste/fusa-manager.c (render_icon_from_home) 
	(_fusa_manager_render_icon): Don't try to read face
	file from remote home directories.  Trying to mount
	the NFS home for every user on large systems just doesn't
	work.

2005-07-13  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c: Put face size back to 24px.

2005-07-13  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (gs_lock_plug_init): Put user list
	in a scrolled window.

2005-07-13  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (filter_out_users, setup_treeview):
	Add ability to filter out users.  Could be used to only
	show users already logged in.

2005-07-13  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (get_ok_button_for_page) 
	(get_switch_button_for_page, gs_lock_plug_init):
	Use stock_people icon instead of GTK_STOCK_REFRESH.

2005-07-13  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (gs_lock_plug_init): Increase dialog
	timeout to 60 secs.

2005-07-13  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (do_user_switch, switch_user_response) 
	(gs_lock_plug_response, get_ok_button_for_page) 
	(get_switch_button_for_page, user_displays_changed_cb) 
	(populate_model, compare_users, separator_func, setup_treeview) 
	(gs_lock_plug_init, gs_lock_plug_finalize):
	Integrate fast-user-switching directly into the unlock dialog.

2005-07-13  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (restart_monitor_progress) 
	(gs_lock_plug_show, entry_key_press): Restart the timer
	after each keypress.  This helps slow typists.

2005-07-11  William Jon McCann  <mccann@jhu.edu>

	* src/gs-job.c (gs_job_finalize): Destroy the hash table.
	(getnodeset, get_first_xpath_prop): Fix leaks.

	* src/gs-manager.c (window_show_cb): Don't do an extra ref.

	* src/gs-job.c (spawn_on_widget): 
	* src/gs-window-x11.c (spawn_on_window): Fix leaks.

2005-07-11  William Jon McCann  <mccann@jhu.edu>

	* src/gs-job.c (spawn_on_widget): Add XAUTHORITY
	to child environment.  Use gdk_screen_make_display_name
	for DISPLAY variable.

2005-07-11  William Jon McCann  <mccann@jhu.edu>

	* src/gs-window-x11.c (spawn_on_window): Add XAUTHORITY
	to child environment.  Use gdk_screen_make_display_name
	for DISPLAY variable.

2005-07-09  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Post release version bump.

==== 0.0.7 ====

2005-07-08  William Jon McCann  <mccann@jhu.edu>

	* NEWS: Update for 0.0.7 release.

	* data/Makefile.am: Fix dist for desktop files.

2005-07-08  William Jon McCann  <mccann@jhu.edu>

	* src/.cvsignore: Add test-passwd.

2005-07-08  William Jon McCann  <mccann@jhu.edu>

	* configure.ac (GDMCONFIGFILE): Check SuSE gdm.conf location.

2005-07-08  William Jon McCann  <mccann@jhu.edu>

	* data/Makefile.am (install-data-hook):
	Added note that PAM file must be updated for SuSE/Novell.

2005-07-08  William Jon McCann  <mccann@jhu.edu>

	* data/gnome-screensaver: Also include SuSE/Novell
	example PAM configuration.

2005-07-08  William Jon McCann  <mccann@jhu.edu>

	* src/passwd-helper.c: Include subprocs.h.

2005-07-08  William Jon McCann  <mccann@jhu.edu>

	* src/Makefile.am: 
	* src/test-passwd.c: New file to test authentication.

2005-07-07  William Jon McCann  <mccann@jhu.edu>

	* configure.ac (enable_user_switching): Don't require
	the gdm.conf file to exist at build time.  Fixes #309730.

2005-07-06  William Jon McCann  <mccann@jhu.edu>

	* Makefile.am: 
	* configure.ac: Actually ship the translations.

	Patch from Sebastien Bacher <seb128@debian.org>.
	Fixes #309658.

2005-07-06  William Jon McCann  <mccann@jhu.edu>

	* data/gnome-screensaver.schemas.in: Use int types.

	Patch from Sebastien Bacher <seb128@debian.org>.
	Fixes #309656.

2005-07-06  William Jon McCann  <mccann@jhu.edu>

	* savers/popsquares.c (screenhack_init):
	Don't use nsquares before initializing.  Fixes #309655.

2005-07-06  William Jon McCann  <mccann@jhu.edu>

	* src/gs-listener-dbus.c (gs_listener_set_active):
	Reset the throttle state after deactivation.

2005-07-06  William Jon McCann  <mccann@jhu.edu>

	* configure.ac (have_pam): Initialize have_pam to "no".

2005-07-03  Takeshi AIHANA <aihana@gnome.gr.jp

	* configure.ac: Added 'ja' (Japanese) to ALL_LINGUAS.

2005-07-01  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Post release version bump.

==== 0.0.6 ====

2005-07-01  William Jon McCann  <mccann@jhu.edu>

	* NEWS: Update for 0.0.6 release.

2005-06-30  William Jon McCann  <mccann@jhu.edu>

	* src/gs-window-x11.c (update_geometry): New function to keep
	track of the window geometry.
	(screen_size_changed): New function to handle screen size changes.
	(gs_window_move_resize_window): New function to nicely handle
	window moving and resizing.
	(gs_window_real_realize): Queue a window resize and connect to the
	screen-size-changed signal.
	(gs_window_set_monitor): New function to set the monitor the window
	should appear on.
	(gs_window_get_monitor): New function to get the monitor the window
	appears on.
	(gs_window_set_property, gs_window_get_property): Add monitor.
	(gs_window_real_size_request): Handle window size requests to
	make the window fill the monitor.
	(gs_window_class_init): Implement size-request handler and add
	monitor property.
	(gs_window_init): Initialize window geometry.  Don't make the
	window modal.  Don't make the window stick.  Don't take focus
	on map.  Don't set the window position to CENTER_ALWAYS.
	(gs_window_new): Set monitor value.

	* src/gs-manager.c (window_dialog_up_cb): Transfer grabs to window
	where dialog goes up so the password can be typed in.  Make all
	other windows insensitive so events won't be triggered while
	dialog is up.
	(window_dialog_down_cb): Make all windows sensitive when dialog
	goes down.
	(window_map_event_cb): Only transfer grabs to window on monitor
	with the pointer.
	(gs_manager_create_window): Create a separate window for each
	monitor of the screen instead of spanning the entire virtual
	desktop with one screensaver window.

	This patch adds multihead/xinerama support.

2005-06-30  William Jon McCann  <mccann@jhu.edu>

	* src/file-transfer-dialog.c: Don't include gnome.h
	(file_transfer_dialog_update_num_files) 
	(file_transfer_dialog_set_prop, eel_gtk_label_make_bold) 
	(create_titled_label, file_transfer_dialog_init) 
	(file_transfer_dialog_update_cb):
	HIG updates and make consistent with nautilus transfer
	progress dialog.

2005-06-27  William Jon McCann  <mccann@jhu.edu>

	* src/gs-manager.c (select_theme): In the odd case the the
	screensaver is activated when it is disabled don't use a
	theme.
	(window_show_cb): Set theme after prepending to search path.

	* src/gs-job.c (gs_job_set_theme): Add warning messages.
	(gs_job_new_for_widget): Don't set theme here.
	(spawn_on_widget): Use g_warning instead of g_message.
	(gs_job_start): Add warning messages.

2005-06-27  William Jon McCann  <mccann@jhu.edu>

	* src/gs-job.c: Add /usr/libexec to known hack locations.

2005-06-27  Dennis Cranston <dennis_cranston@yahoo.com>

	* data/gnome-screensaver-preferences.glade: Fix small HIG widget
	spacing regression.
	
2005-06-23  William Jon McCann  <mccann@jhu.edu>

	* src/gs-monitor.c (prefs_changed_cb): Update the idle watcher
	state when configuration changes.

2005-06-23  William Jon McCann  <mccann@jhu.edu>

	* savers/popsquares.c (screenhack_init, screenhack_iter):
	Don't crash when window size is zero.  Remove unnecessary division.

2005-06-23  William Jon McCann  <mccann@jhu.edu>

	* src/gnome-screensaver-preferences.c (time_to_string_text): Don't
	display hanging zeros in time string.
	(format_value_callback_time, init_capplet): Format the activation
	time string more nicely.

	* data/gnome-screensaver-preferences.glade: Display activation time
	text on top of slider and remove hard-coded units.

2005-06-23  William Jon McCann  <mccann@jhu.edu>

	* src/gs-window-x11.[ch] (gs_window_clear): Add to public API.

	* src/gs-manager.c (gs_manager_set_throttle_enabled): Clear
	the window when the screensaver is throttled.

2005-06-22  William Jon McCann  <mccann@jhu.edu>

	* data/Makefile.am (install-data-hook): Wrap text better.

	* configure.ac: Fix typo from last commit.

2005-06-22  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Clean up checks and summary text.

2005-06-22  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Up dbus dependency to 0.30.

2005-06-21  William Jon McCann  <mccann@jhu.edu>

	* TODO: Remove done dnd item. 

2005-06-20  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (gs_lock_plug_init)
	(gs_lock_plug_response, password_check_idle_cb): Use more human
	text.

	* data/gnome-screensaver.schemas.in: Fix typo.

2005-06-20  William Jon McCann  <mccann@jhu.edu>

	* src/gnome-screensaver-dialog.c: Remove dbus includes.

2005-06-20  William Jon McCann  <mccann@jhu.edu>

	* src/gs-manager.c (gs_manager_init, gs_manager_finalize):
	Remove unused and unneeded gconf client.

2005-06-20  William Jon McCann  <mccann@jhu.edu>

	* src/gs-monitor.c (manager_blanked_cb, manager_unblanked_cb) 
	(watcher_idle_cb, listener_lock_cb, listener_quit_cb) 
	(listener_active_changed_cb, listener_throttled_changed_cb) 
	(gs_monitor_init, gs_monitor_start): Use listener to hold state.

	* src/gs-listener-dbus.c (gs_listener_send_signal_active_changed) 
	(gs_listener_send_signal_throttle_enabled_changed) 
	(gs_listener_set_active, gs_listener_set_throttle_enabled) 
	(listener_property_set_bool, raise_property_type_error) 
	(listener_set_property, listener_get_property) 
	(gs_listener_message_handler, gs_listener_set_property) 
	(gs_listener_get_property, gs_listener_class_init): Use a property
	based approach for the dbus object interface.  This makes it much
	easier to handle getting values as well as setting them.

	* src/gnome-screensaver-command.c (screensaver_send_message_bool) 
	(screensaver_send_message_void, do_command): Use new dbus object
	methods.

2005-06-17  William Jon McCann  <mccann@jhu.edu>

	* src/gs-monitor.c (listener_throttle_cb, listener_unthrottle_cb) 
	(gs_monitor_init): 
	* src/gs-manager.c (gs_manager_set_throttle_enabled) 
	(gs_manager_cycle, gs_manager_set_property) 
	(gs_manager_get_property, gs_manager_class_init) 
	(window_dialog_up_cb, window_dialog_down_cb, window_show_cb): 
	* src/gs-listener-dbus.c (gs_listener_message_handler) 
	(gs_listener_class_init): 
	* src/gnome-screensaver-command.c (do_command):
	Add support for throttling the screensaver.  When throttling is
	enabled the screensaver will do its best to use as few resources
	as possible.  At the moment this only involves stopping themes
	from running.

2005-06-16  William Jon McCann  <mccann@jhu.edu>

	* data/Makefile.am (install-data-hook): Wrap text in Solaris
	warning message better.

2005-06-16  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Add HAVE_USER_SWITCHING back.

2005-06-16  William Jon McCann  <mccann@jhu.edu>

	* data/gnome-screensaver: Add PAM configuration file
	copied from GDM.

	* src/passwd-pam.c: Update comments for gnome-screensaver.

	* src/passwd-helper.c (ext_run): Use gnome-screensaver as
	helper service name.

	* src/Makefile.am: Use gnome-screensaver as PAM service name.

	* data/Makefile.am (install-data-hook): Install PAM files.

	* configure.ac: Determine PAM conf dir.  Show configuration
	summary.

2005-06-16  William Jon McCann  <mccann@jhu.edu>

	* src/gnome-screensaver.c (main): Don't use error if NULL.
	For some reason gtk_init is failing without setting an error
	when unable to open display.

	* src/subprocs.h: Add missing include.

2005-06-16  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Remove Werror.

2005-06-16  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (gs_lock_plug_set_switch_enabled) 
	(gs_lock_plug_set_property, gs_lock_plug_get_property) 
	(gs_lock_plug_class_init): 
	* src/gnome-screensaver-dialog.c (popup_dialog_idle, main):
	Make showing the New Login button a property.

	* configure.ac: Only enable user switching if the system
	has the capability.

2005-06-16  William Jon McCann  <mccann@jhu.edu>

	* src/cut-n-paste/fusa-utils.h: 
	* src/cut-n-paste/fusa-manager.c (fusa_manager_activate_display):
	Sync up with fusa CVS.

2005-06-15  William Jon McCann  <mccann@jhu.edu>

	* src/gs-watcher-x11.c: Check if sys/select.h is present.
	* src/gs-monitor.c: Remove unneeded includes.

2005-06-15  William Jon McCann  <mccann@jhu.edu>

	* src/gnome-screensaver-preferences.c (populate_model) 
	(compare_theme, separator_func, setup_treeview):
	Add a separator between the builtin screensaver modes
	and the rest of the themes.

2005-06-15  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (get_ok_button_for_page) 
	(get_switch_button_for_page, gs_lock_plug_init):
	Use New Login instead of Login Screen.

2005-06-14  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (monitor_progress): Use ngettext to handle
	plurals.  Fixes #307560.

	Based on patch by Thierry Moisan <thierryn@videotron.ca>

2005-06-13  William Jon McCann  <mccann@jhu.edu>

	* src/gs-job.c (parse_theme): Cast xmlChar* to char* (unsigned to
	signed) to fix building with gcc4.  Fixes #307450.

2005-06-10  William Jon McCann  <mccann@jhu.edu>

	* src/gnome-screensaver-preferences.c (theme_installer_run) 
	(init_capplet): Remove spurious debug messages.

2005-06-10  William Jon McCann  <mccann@jhu.edu>

	* src/file-transfer-dialog.[ch]: New files copied from
	gnome-control-center.

	* src/gnome-screensaver-preferences.c (reload_themes) 
	(transfer_done_cb, transfer_cancel_cb, theme_installer_run) 
	(drag_motion_cb, drag_leave_cb, drag_data_received_cb) 
	(init_capplet): 
	* src/Makefile.am:
	Add basic support for drag and drop of screensaver themes
	onto the capplet.

2005-06-07  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Post release version bump.

==== 0.0.5 ====
	
2005-06-07  William Jon McCann  <mccann@jhu.edu>

	* NEWS: Update for release

2005-06-07  William Jon McCann  <mccann@jhu.edu>

	* savers/Makefile.am (EXTRA_DIST): Add theme data.
	* data/Makefile.am (EXTRA_DIST): Add glade and desktop data.

2005-06-07  William Jon McCann  <mccann@jhu.edu>

	* src/gnome-screensaver-preferences.c (preview_set_theme):
	Make activation time slider insensitive when screensaver is
	disabled.

2005-06-06  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: 
	* src/Makefile.am: Add missing DBUS_CFLAGS.

	Patch from Jaap A. Haitsma <jaap@haitsma.org>.
	Fixes #306487.

2005-06-01  William Jon McCann  <mccann@jhu.edu>

	* src/gs-job.c (load_themes): Only use first theme in search path
	for any given name.

2005-06-01  William Jon McCann  <mccann@jhu.edu>

	* src/gs-manager.c (window_show_cb): 
	* src/gnome-screensaver-preferences.c (init_capplet):
	Look for user themes in g_get_user_data_dir/gnome-screensaver/themes.

2005-06-01  William Jon McCann  <mccann@jhu.edu>

	* src/gs-manager.c (gs_manager_cycle): Use GError.

	* src/gs-job.c (gs_job_set_theme_path, gs_job_get_theme_path)
	(gs_job_prepend_theme_path): Add ability to extend the theme
	search path.
	(theme_info_new, gs_job_theme_info_free, gs_job_theme_info_copy):
	Add ThemeInfo API to handle getting information about themes.
	(load_themes, gs_job_theme_rescan_if_needed, ensure_valid_themes) 
	(gs_job_lookup_theme_info, hash2slist_foreach) 
	(g_hash_table_slist_keys, gs_job_get_theme_list, gs_job_init) 
	(gs_job_finalize, check_command, gs_job_set_theme) 
	(gs_job_new_for_widget, spawn_on_widget, gs_job_start):
	Use a hash table to store theme info.

	* src/gnome-screensaver-preferences.c (preview_set_theme): Handle errors.
	(populate_model): Use new ThemeInfo API.

2005-05-21  Frank Arnold  <farnold@cvs.gnome.org>

	* configure.ac: Added German (de) to ALL_LINGUAS.

2005-05-20  William Jon McCann  <mccann@jhu.edu>

	* src/gs-job.c (nice_process): Operate on the specified pid
	instead of current process.

2005-05-20  William Jon McCann  <mccann@jhu.edu>

	* src/gs-job.c (nice_process, spawn_on_widget):
	Set subprocess priority.

2005-05-20  William Jon McCann  <mccann@jhu.edu>

	* src/gs-monitor.c (gs_monitor_new, gs_monitor_start):
	Split out monitor start.

	* src/gs-listener-dbus.c: Use lowercase name and path.
	(gs_listener_acquire): Set error correctly.

	* src/gnome-screensaver.c (main): Remove dbus stuff and let
	gs-monitor fail if it cannot get the service.

	* src/gnome-screensaver-command.c: Use lowercase name and path.

2005-05-18  William Jon McCann  <mccann@jhu.edu>

	* src/gs-listener-dbus.c (gs_listener_acquire):
	Make sure input isn't NULL.

2005-05-18  William Jon McCann  <mccann@jhu.edu>

	* src/gs-monitor.c (manager_blanked_cb, manager_unblanked_cb): 
	* src/gs-listener-dbus.[ch] (gs_listener_send_signal_activated) 
	(gs_listener_send_signal_deactivated):
	Send Activated or Deactivated signals over dbus.

2005-05-09  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: 
	* src/gnome-screensaver-command.c (screensaver_is_running): 
	* src/gnome-screensaver.c (check_dbus): 
	* src/gs-listener-dbus.c (screensaver_is_running) 
	(gs_listener_acquire):
	Support the both the 0.23 and 0.3 dbus APIs.  Fixes #303288.

	Patch from Diego Gonzalez <diego@pemas.net>.

2005-05-05  William Jon McCann  <mccann@jhu.edu>

	* savers/.cvsignore: Added.

2005-05-05  Dennis Cranston <dennis_cranston@yahoo.com>

	* data/gnome-screensaver-preferences.glade: Adjust widget
	spacing according to HIG.

2005-05-05  William Jon McCann  <mccann@jhu.edu>

	* data/gnome-screensaver-preferences.glade: Don't use a
	horiz. scrollbar on the themes list.  And don't fill space.

2005-05-05  William Jon McCann  <mccann@jhu.edu>

	* src/gs-monitor.c (listener_poke_cb, gs_monitor_init): 
	* src/gs-listener-dbus.c (gs_listener_message_handler) 
	(gs_listener_class_init): 
	* src/gnome-screensaver-command.c (do_command):
	Rename ping to poke to avoid confustion with dbus .Ping.

2005-05-05  William Jon McCann  <mccann@jhu.edu>

	* configure.ac: Remove app-default stuff.

2005-05-05  William Jon McCann  <mccann@jhu.edu>

	* README: Removed GTK bug as known issue since we work around it.

2005-05-05  William Jon McCann  <mccann@jhu.edu>

	* src/gnome-screensaver-preferences.c (config_set_theme) 
	(preview_set_theme, setup_treeview_selection): Guard against
	calling strcmp with null.

	* src/gs-prefs.c:
	* src/gnome-screensaver-preferences.c:
	* data/gnome-screensaver.schemas.in:
	Rename gconf key to "themes" and add it to schemas.

2005-05-05  William Jon McCann  <mccann@jhu.edu>

	* src/gs-window-x11.c (gs_window_real_show, spawn_on_window) 
	(is_logout_enabled, popup_dialog_idle) 
	(gs_window_set_logout_enabled, gs_window_set_logout_timeout) 
	(gs_window_set_property, gs_window_get_property) 
	(gs_window_finalize): 
	* src/gs-prefs.c (gs_prefs_load_from_gconf, key_changed_cb): 
	* src/gs-monitor.c (prefs_changed_cb, gs_monitor_init): 
	* src/gs-manager.c (gs_manager_set_logout_enabled) 
	(gs_manager_set_lock_timeout, gs_manager_set_logout_timeout) 
	(gs_manager_set_property, gs_manager_get_property) 
	(gs_manager_class_init, window_show_cb, gs_manager_create_window): 
	* src/gs-lock-plug.c (gs_lock_plug_set_logout_enabled) 
	(gs_lock_plug_set_property, gs_lock_plug_get_property) 
	(gs_lock_plug_class_init, logout_button_clicked) 
	(gs_lock_plug_init): 
	* src/gnome-screensaver-dialog.c (popup_dialog_idle): 
	* src/Makefile.am: 
	* data/gnome-screensaver.schemas.in:
	Add support for showing a logout button after a specified
	amount of time.  This depends on the fix for bug #149447.
	Fixes #301710.

2005-05-04  William Jon McCann  <mccann@jhu.edu>

	* src/gs-watcher-x11.c (gs_watcher_reset):
	Add a convenience function for resetting the idle
	watcher.

	* src/gs-monitor.c (listener_ping_cb, gs_monitor_init): 
	* src/gs-listener-dbus.c (gs_listener_message_handler) 
	(gs_listener_class_init): 
	* src/gnome-screensaver-command.c (do_command):
	Add ping dbus method that can be used to simulate user
	activity or as a safe way to probe if the screensaver is
	running.

2005-05-01  Francisco Javier F. Serrador  <serrador@cvs.gnome.org>

	* configure.ac: Added Spanish (es) to ALL_LINGUAS.

2005-04-29  William Jon McCann  <mccann@jhu.edu>

	* data/gnome-screensaver-preferences.glade:
	Now even simpler.

2005-04-29  William Jon McCann  <mccann@jhu.edu>

	* data/gnome-screensaver-preferences.glade: 
	* src/gnome-screensaver-preferences.c (config_get_blank_delay) 
	(config_get_theme, setup_treeview_selection, init_capplet):
	Support unwritable gconf keys in the interface.

2005-04-26  William Jon McCann  <mccann@jhu.edu>

	* src/gnome-screensaver-preferences.c (compare_theme) 
	(setup_treeview): Sort the theme list.

2005-04-26  William Jon McCann  <mccann@jhu.edu>

	* src/gs-prefs.c (gs_prefs_load_from_gconf, key_changed_cb) 
	(gs_prefs_init, gs_prefs_finalize): 
	* src/gs-monitor.c (prefs_changed_cb, gs_monitor_init):
	More renaming savers to themes.

2005-04-26  William Jon McCann  <mccann@jhu.edu>

	* src/gs-manager.c (gs_manager_set_themes, select_theme) 
	(gs_manager_cycle, window_show_cb): 
	* src/gs-job.c (getnodeset, get_first_xpath_prop) 
	(get_xml_config_string, gs_job_theme_parse, gs_job_finalize) 
	(gs_job_set_command, gs_job_set_theme, gs_job_new_for_widget) 
	(spawn_on_widget, gs_job_start): 
	* src/gnome-screensaver-preferences.c (config_get_theme) 
	(config_set_theme, preview_set_theme, get_themes_dir) 
	(theme_entry_free, get_theme_list, populate_model) 
	(tree_selection_changed_cb, setup_treeview) 
	(setup_treeview_selection): 
	* src/Makefile.am: 
	* savers/Makefile.am: 
	* configure.ac:
	Add support for XML theme configuration.  Only support configuration
	via theme names.  The mapping to a command is done by the XML config.

2005-04-26  William Jon McCann  <mccann@jhu.edu>

	* src/gs-watcher-x11.c (gs_watcher_set_dpms): 
	* src/gs-prefs.c (gs_prefs_load_from_gconf, key_changed_cb): 
	* src/gs-monitor.c (prefs_changed_cb, gs_monitor_init):
	Enable DPMS support.

2005-04-25  William Jon McCann  <mccann@jhu.edu>

	* src/gs-manager.c (gs_manager_cycle, cycle_timeout) 
	(gs_manager_set_cycle_delay): Don't cycle the theme
	while the lock dialog is up.

2005-04-25  William Jon McCann  <mccann@jhu.edu>

	* src/gs-window-x11.c (spawn_on_window, wait_on_child) 
	(gs_window_dialog_finish, command_watch):
	Don't leak pipe fds.  Be more correct about handling pids.

	* src/gs-job.c (spawn_on_widget): Uncomment channel unref.

2005-04-25  William Jon McCann  <mccann@jhu.edu>

	* src/gs-job.c (wait_on_child, gs_job_died, gs_job_finalize) 
	(spawn_on_widget, command_watch, gs_job_stop):
	Don't leak pipe fds.  Be more correct about handling pids.

2005-04-23  William Jon McCann  <mccann@jhu.edu>

	* src/gnome-screensaver-preferences.c (init_capplet):
	Use screensaver icon here too.

2005-04-23  William Jon McCann  <mccann@jhu.edu>

	* data/gnome-screensaver-preferences.desktop.in:
	Use screensaver icon.  Fix comment.

	Patch from Jaap A. Haitsma <jaap@haitsma.org>.
	Fixes #301709

2005-04-23  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (button_get_label_widget) 
	(button_mnemonic_activate_click, switch_page, gs_lock_plug_init):
	Allow mnemonic activation with keyboard grabbed.
	Work around bug 172998.

2005-04-22  William Jon McCann  <mccann@jhu.edu>

	* savers/popsquares.c (screenhack_init, screenhack_iter) 
	(screenhack_destroy, new_window, get_window, do_restart) 
	(do_configure_event, do_event, main):
	Add support for configuration events.

2005-04-22  William Jon McCann  <mccann@jhu.edu>

	* savers/popsquares.c (screenhack_init, screenhack_iter) 
	(screenhack_destroy): Make functions static for now.

2005-04-22  William Jon McCann  <mccann@jhu.edu>

	* data/gnome-screensaver-preferences.glade:
	Use vbox/hbox instead of frame.

2005-04-22  William Jon McCann  <mccann@jhu.edu>

	* src/gnome-screensaver-preferences.c (saver_entry_free) 
	(get_saver_list, populate_model):
	Construct saver list more dynamically.

2005-04-22  William Jon McCann  <mccann@jhu.edu>

	* savers/Makefile.am: 
	* savers/popsquares.c: 
	* src/gs-job.c: 
	* src/Makefile.am: 
	* configure.ac: 
	* Makefile.am:
	Add gdk port of popsquares saver that uses the
	desktop theme and doesn't support configuration.

2005-04-20  William Jon McCann  <mccann@jhu.edu>

	* src/gs-window-x11.c (gs_window_override_user_time) 
	(gs_window_real_realize):
	Try to work around focus stealing prevention.

2005-04-20  William Jon McCann  <mccann@jhu.edu>

	* README: Added bugzilla info, etc.

2005-04-20  William Jon McCann  <mccann@jhu.edu>

	* src/gs-watcher-x11.c (gs_watcher_set_timeout): 
	* src/gs-prefs.c (key_changed_cb): 
	* src/gs-monitor.c (prefs_changed_cb):
	Make daemon respond to blank delay gconf changes.

2005-04-20  William Jon McCann  <mccann@jhu.edu>

	* src/gnome-screensaver-preferences.c (init_capplet): 
	* data/gnome-screensaver-preferences.glade:
	Make keyboard mnemonic activation work.

2005-04-20  William Jon McCann  <mccann@jhu.edu>

	* src/gnome-screensaver-preferences.c (config_get_blank_delay) 
	(config_set_blank_delay, blank_delay_value_changed_cb) 
	(init_capplet): Add support for the blank delay.

	* data/gnome-screensaver-preferences.glade: Set default size.

2005-04-19  Gareth Owen  <gowen72@yahoo.com>

	* configure.ac: Added en_GB to ALL_LINGUAS

2005-04-19  William Jon McCann  <mccann@jhu.edu>

	* src/gs-job.c (gs_job_set_command):
	Handle NULL commands.

2005-04-19  William Jon McCann  <mccann@jhu.edu>

	* src/gs-job.c (gs_job_finalize):
	Only signal if pid > 0.

2005-04-19  William Jon McCann  <mccann@jhu.edu>

	* .cvsignore: Updated.
	
	* src/gs-prefs.c (key_changed_cb, gs_prefs_init) 
	(gs_prefs_finalize): 
	* src/gs-monitor.c (prefs_changed_cb, gs_monitor_init):
	Enable monitoring of gconf settings.

	* src/gs-manager.c (window_show_cb): 
	* src/gs-job.c (widget_get_id_string, gs_job_set_widget) 
	(find_command, gs_job_set_command, gs_job_new) 
	(gs_job_new_for_widget, spawn_on_widget, gs_job_start):
	Change jobs to run on a widget instead of GSWindow in
	order to support capplet.  Interpret gconf saver value
	as a full path for security.

	* src/gnome-screensaver-preferences.c: 
	* src/Makefile.am: 
	* data/gnome-screensaver-preferences.glade: 
	* data/gnome-screensaver-preferences.desktop.in: 
	* data/Makefile.am: 
	* configure.ac:
	Add screensaver preferences capplet.

2005-04-15  William Jon McCann  <mccann@jhu.edu>

	* src/gs-manager.c (window_show_cb, window_map_event_cb) 
	(gs_manager_create_window, gs_manager_create, gs_manager_blank):
	Set up windows and jobs only after showing and lock only
	after map-event.

	* src/gs-manager.c (select_saver, gs_manager_cycle): 
	* src/gs-job.c (gs_job_set_command, gs_job_new_for_window) 
	(spawn_on_window):
	Use const where appropriate.

2005-04-15  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (gs_lock_plug_init):
	Don't indent the password entry.  Use a
	smaller font for the progress text so that
	it isn't too distracting.

2005-04-15  William Jon McCann  <mccann@jhu.edu>

	* src/gs-lock-plug.c (gs_lock_plug_init):
	Use label instead of entry for username.

	* configure.ac: Use variable for dbus version.

2005-04-15  Adam Weinberger  <adamw@gnome.org>

	* configure.ac: Added en_CA to ALL_LINGUAS.

2005-04-15  Raphael Higino  <raphaelh@cvs.gnome.org>

	* configure.ac: Added pt_BR to ALL_LINGUAS.

2005-04-15  Funda Wang  <fundawang@linux.net.cn>

	* configure.ac: Added "zh_CN" to ALL_LINGUAS.

2005-04-14  William Jon McCann  <mccann@jhu.edu>

	* src/gs-grab-x11.c (gs_grab_move_mouse):
	Don't regrab pointer here.

2005-04-14  William Jon McCann  <mccann@jhu.edu>

	* src/gs-grab-x11.c (gs_grab_get_mouse) 
	(gs_grab_get_keyboard_and_mouse):
	Grab and release pointer initially.

2005-04-14  Christian Rose  <menthos@menthos.com>

	* configure.ac: Added "sv" to ALL_LINGUAS.

